let pokemonRepository=function(){let t=[],e="https://pokeapi.co/api/v2/pokemon/?limit=150";const n=document.getElementById("searchBox");function i(e){return"object"==typeof e&&"name"in e?t.push(e):console.log("Please, enter valid values!")}function a(t){let e=t.detailsUrl;return fetch(e).then(function(t){return t.json()}).then(function(e){t.imageUrl=e.sprites.front_default,t.height=e.height,t.weight=e.weight,t.types=e.types,t.abilities=e.abilities}).catch(function(t){console.error(t)})}function o(t){a(t).then(function(){!function(t){let e=$(".modal-body"),n=$(".modal-title");n.empty(),e.empty();let i=$('<h2 class="text-capitalize">'+t.name+"</h2>"),a=$('<div class="d-flex ml-1">'),o=$('<h3 class="text-black text-uppercase pr-3 m-0">Height: <span class="font-weight-bold">'+t.height+"</span></h3>"),l=$('<h3 class="text-black text-uppercase m-0">Weight: <span class=" font-weight-bold">'+t.weight+"</span></h3>"),s=$('<img class="modal-img my-2 mb-4" src="" >');s.attr("src",t.imageUrl);let c=[],p=[];Object.keys(t.types).forEach(e=>{p.push(" "+t.types[e].type.name)});let r=$('<p class="text-uppercase text-warning m-0 ml-1">Types: <span class="text-info font-weight-bold text-capitalize">'+p+"</span></p>");Object.keys(t.abilities).forEach(e=>{c.push(" "+t.abilities[e].ability.name)});let d=$('<p class="text-uppercase text-warning m-0 ml-1">Abilities: <span class="text-info font-weight-bold text-capitalize">'+c+"</span></p>");n.append(i),a.append(o),a.append(l),n.append(a),e.append(s),e.append(r),e.append(d)}(t)})}return document.getElementById("searchBtn").addEventListener("click",function(){let t=document.querySelectorAll(".list-group-item"),e=n.value.toLowerCase();t.forEach(t=>{t.innerText.toLowerCase().indexOf(e)>-1?t.style.display="":t.style.display="none"})}),{add:i,getAll:function(){return t},addListItem:function(t){let e=document.querySelector("#pokeList"),n=document.createElement("li"),i=document.createElement("button");n.classList.add("pokeListItem","list-group-item","col-md-4","col-lg-3","my-2"),i.innerText=t.name,i.classList.add("pokeButton","btn","text-light","text-capitalize","text-center"),i.setAttribute("data-toggle","modal"),i.setAttribute("data-target","#pokedex"),n.appendChild(i),e.appendChild(n),i.addEventListener("click",function(){o(t)})},loadList:function(){return fetch(e).then(function(t){return t.json()}).then(function(t){t.results.forEach(function(t){i({name:t.name,detailsUrl:t.url})})}).catch(function(t){console.error(t)})},loadDetails:a,showDetails:o}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(t){pokemonRepository.addListItem(t)})});